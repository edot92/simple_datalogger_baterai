webpackJsonp([1],{100:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"SidebarName",methods:{toggleMenu:function(t){var e=document.querySelector("li.pageLink.active");e&&e.classList.remove("active"),t.toElement.parentElement.className="pageLink active"}}}},101:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(1142),n=a.n(s),o={startdate:"",enddate:""};e.default={components:{downloadExcel:n.a},mounted:function(){var t=this;t.axios({method:"get",url:"/device/historylast"}).then(function(e){for(var a=0;a<e.data.data.length;a++)e.data.data[a].id=a+1,e.data.data[a].created_at=moment(moment(e.data.data[a].created_at).toString()).format("DD-MM-YYYY HH:mm:ss");t.tableData=e.data.data}).catch(function(t){console.log(t)}),$("#demo").daterangepicker({locale:{format:"DD-MM-YYYY HH:mm:ss"},dateLimit:{minutes:43200},timePicker:!0,timePicker24Hour:!0,timePickerSeconds:!0,startDate:"11-06-2017",endDate:"12-06-2017"},function(t,e,a){o.startdate=t.format("YYYY-MM-DD HH:mm:ss.SSS"),o.enddate=e.format("YYYY-MM-DD HH:mm:ss.SSS")})},data:function(){return{json_fields:{id:"String",temperature:"Float",humidity:"Float",current:"Float",loadvoltage:"Float",created_at:"String"},json_data:[],columns:["id","temperature","humidity","current","loadvoltage","created_at"],tableData:[],options:{}}},methods:{showHistoryByDate:function(){var t=this;t.axios({method:"post",url:"/device/historybydaterange",data:{startdate:o.startdate,enddate:o.enddate}}).then(function(e){console.log(e);for(var a=0;a<e.data.data.length;a++)e.data.data[a].current<0&&(e.data.data[a].current=0),e.data.data[a].ID=a+1,e.data.data[a].created_at=moment(moment(e.data.data[a].created_at).toString()).format("DD-MM-YYYY HH:mm:ss"),e.data.data[a].busvoltage="",e.data.data[a].shuntvoltage="",e.data.data[a].update_at="",delete e.data.data[a].busvoltage,delete e.data.data[a].shuntvoltage,delete e.data.data[a].update_at;t.json_data={},t.json_data=e.data.data}).catch(function(t){console.log(t)})}}},document.addEventListener("DOMContentLoaded",function(){})},102:function(t,e,a){"use strict";function s(){$(document).ready(function(){Highcharts.setOptions({global:{useUTC:!1}}),Highcharts.chart("chartAkuh",{chart:{type:"spline",animation:Highcharts.svg,marginRight:10,events:{load:function(){function t(t){var a=e.series[0],s=e.series[1],n=e.series[2],o=e.series[3],r=(new Date).getTime(),i=t.Temperature,l=t.Humidity,c=t.Current,d=t.Loadvoltage;$("#waktu").val((new Date).getTime()),a.addPoint([r,i],!0,!0),s.addPoint([r,l],!0,!0),n.addPoint([r,c],!0,!0),o.addPoint([r,d],!0,!0)}var e=this;$(document).on("updatedValue",t)}}},title:{text:"GRAFIK SISTEM DATA LOGGER TEMPERATURE BATERAI"},xAxis:{type:"datetime",tickPixelInterval:150},yAxis:{title:{text:"Value"},plotLines:[{value:0,width:1,color:"#808080"}]},tooltip:{formatter:function(){return"<b>"+this.series.name+"</b><br/>"+Highcharts.dateFormat("%Y-%m-%d %H:%M:%S",this.x)+"<br/>"+Highcharts.numberFormat(this.y,2)}},legend:{enabled:!0},exporting:{enabled:!1},series:[{name:"Temperature",data:function(){var t,e=[],a=(new Date).getTime();for(t=-19;t<=0;t+=1)e.push({x:a+1e3*t,y:0});return e}()},{name:"Humidity",data:function(){var t,e=[],a=(new Date).getTime();for(t=-19;t<=0;t+=1)e.push({x:a+1e3*t,y:0});return e}()},{name:"Current",data:function(){var t,e=[],a=(new Date).getTime();for(t=-19;t<=0;t+=1)e.push({x:a+1e3*t,y:0});return e}()},{name:"Loadvoltage",data:function(){var t,e=[],a=(new Date).getTime();for(t=-19;t<=0;t+=1)e.push({x:a+1e3*t,y:0});return e}()}]})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){s();var t=this;setInterval(function(){t.axios({method:"get",url:"/device/realtimebox"}).then(function(e){t.Temperature=e.data.data.temperature,t.Humidity=e.data.data.humidity,e.data.data.current<0&&(e.data.data.current=0),t.Current=e.data.data.current,t.Shuntvoltage=e.data.data.shuntvoltage,t.Busvoltage=e.data.data.busvoltage,t.Loadvoltage=e.data.data.loadvoltage,t.Daya=.001*parseFloat(t.Loadvoltage),t.Daya=t.Daya*parseFloat(t.Current),!0===t.autoUpdateChart&&$.event.trigger({type:"updatedValue",val1:Math.floor(10*Math.random())+1,val2:Math.floor(10*Math.random())+1,Temperature:t.Temperature,Humidity:t.Humidity,Current:t.Current,Loadvoltage:t.Loadvoltage,waktu:t.LastUpdate})}).catch(function(t){console.error(t)})},2e3)},data:function(){return{autoUpdateChart:!0,Daya:0,Temperature:4.42,Humidity:4.42,Current:1,Loadvoltage:4.42,Shuntvoltage:4.42,Busvoltage:4.42,LastUpdate:0}},methods:{onChangeautoUpdateChart:function(){this.autoUpdateChart=!this.autoUpdateChart},sampleUpdate:function(){var t=this;$.event.trigger({type:"updatedValue",val1:Math.floor(10*Math.random())+1,val2:Math.floor(10*Math.random())+1,Temperature:t.Temperature,Humidity:t.Humidity,Current:t.Current,Loadvoltage:t.Loadvoltage,waktu:t.LastUpdate})}}}},1136:function(t,e,a){a(136);var s=a(2)(a(96),a(1148),null,null);t.exports=s.exports},1137:function(t,e,a){a(134);var s=a(2)(a(98),a(1146),null,null);t.exports=s.exports},1138:function(t,e,a){a(137);var s=a(2)(a(99),a(1149),null,null);t.exports=s.exports},1139:function(t,e,a){a(133);var s=a(2)(a(100),a(1144),null,null);t.exports=s.exports},1140:function(t,e,a){a(135);var s=a(2)(a(101),a(1147),null,null);t.exports=s.exports},1141:function(t,e,a){a(132);var s=a(2)(a(102),a(1143),null,null);t.exports=s.exports},1142:function(t,e,a){var s=a(2)(a(95),a(1145),null,null);t.exports=s.exports},1143:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content",attrs:{id:"realtime"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label col-sm-5",attrs:{for:"pwd"}},[t._v("Temperature (℃):")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Temperature,expression:"Temperature"}],staticClass:"form-control",attrs:{disabled:"",type:"text",placeholder:"???"},domProps:{value:t.Temperature},on:{input:function(e){e.target.composing||(t.Temperature=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label col-sm-5",attrs:{for:"pwd"}},[t._v("Humidity (%):")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Humidity,expression:"Humidity"}],staticClass:"form-control",attrs:{disabled:"",type:"text",placeholder:"???"},domProps:{value:t.Humidity},on:{input:function(e){e.target.composing||(t.Humidity=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label col-sm-5",attrs:{for:"pwd"}},[t._v(" Tegangan (Volt):")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Loadvoltage,expression:"Loadvoltage"}],staticClass:"form-control",attrs:{disabled:"",type:"text",placeholder:"???"},domProps:{value:t.Loadvoltage},on:{input:function(e){e.target.composing||(t.Loadvoltage=e.target.value)}}})])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label col-sm-5",attrs:{for:"pwd"}},[t._v("Arus (miliAmpere]):")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Current,expression:"Current"}],staticClass:"form-control",attrs:{disabled:"",type:"text",placeholder:"???"},domProps:{value:t.Current},on:{input:function(e){e.target.composing||(t.Current=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label col-sm-5",attrs:{for:"pwd"}},[t._v("Daya (Watt):")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Daya,expression:"Daya"}],staticClass:"form-control",attrs:{disabled:"",type:"text",placeholder:"???"},domProps:{value:t.Daya},on:{input:function(e){e.target.composing||(t.Daya=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label col-sm-5",attrs:{for:"pwd"}},[t._v("Auto Updated Chart:")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("toggle-button",{attrs:{value:t.autoUpdateChart,color:"#82C7EB",sync:!0,labels:!0},on:{change:t.onChangeautoUpdateChart}})],1)])])]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"row",staticStyle:{display:"none"}},[a("button",{on:{click:t.sampleUpdate}},[t._v("Updated")]),t._v(" "),t._m(0)]),t._v(" "),t._m(1),t._v(" "),a("br")])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("label",[t._v("TIME ")]),t._v(" "),a("input",{attrs:{id:"waktu",val:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticStyle:{"min-width":"310px",height:"400px",margin:"0 auto"},attrs:{id:"chartAkuh"}})])}]}},1144:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"sidebar-menu"},[a("li",{staticClass:"header"},[t._v("MENU")]),t._v(" "),a("li",{staticClass:"active pageLink",on:{click:t.toggleMenu}},[a("router-link",{attrs:{to:"/realtime"}},[a("i",{staticClass:"fa fa-pencil-square-o"}),t._v(" "),a("span",{staticClass:"page"},[t._v("Realtime")])])],1),t._v(" "),a("li",{staticClass:"active pageLink",on:{click:t.toggleMenu}},[a("router-link",{attrs:{to:"/history"}},[a("i",{staticClass:"fa fa-pencil-square-o"}),t._v(" "),a("span",{staticClass:"page"},[t._v("History")])])],1)])},staticRenderFns:[]}},1145:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("a",{attrs:{href:"#",id:t.id_name},on:{click:t.generate_excel}},[t._t("default",[t._v("\n\t\tDownload Excel\n\t")])],2)},staticRenderFns:[]}},1146:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["wrapper",t.classes]},[t._m(0),t._v(" "),a("sidebar",{attrs:{"display-name":t.demo.displayName,"picture-url":t.demo.avatar}}),t._v(" "),a("div",{staticClass:"content-wrapper"},[a("section",{staticClass:"content-header"},[a("h1",[t._v("\n          "+t._s(t.$route.name.toUpperCase())+"\n          "),a("small",[t._v(t._s(t.$route.meta.description))])]),t._v(" "),a("ol",{staticClass:"breadcrumb"},[t._m(1),t._v(" "),a("li",{staticClass:"active"},[t._v(t._s(t.$route.name.toUpperCase()))])])]),t._v(" "),a("router-view")],1),t._v(" "),a("footer",{staticClass:"main-footer"},[a("strong",[t._v("Copyright © "+t._s(t.year)+"\n        "),a("a",{attrs:{href:"#"}},[t._v("Ahmad Sukron")]),t._v(".")]),t._v(" .\n    ")])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"main-header"},[a("span",{staticClass:"logo-mini"},[a("a",{attrs:{href:"/"}},[a("img",{staticClass:"img-responsive center-block logo",attrs:{src:"/static/img/copilot-logo-white.svg",alt:"Logo"}})])]),t._v(" "),a("nav",{staticClass:"navbar navbar-static-top",attrs:{role:"navigation"}},[a("a",{staticClass:"sidebar-toggle",attrs:{href:"javascript:;","data-toggle":"offcanvas",role:"button"}},[a("span",{staticClass:"sr-only"},[t._v("Toggle navigation")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"fa fa-home"}),t._v("Home")])])}]}},1147:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content",attrs:{id:"history"}},[a("form",{staticClass:"form-horizontal",attrs:{action:"",method:"#",role:"form"}},[t._m(0),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-10 col-sm-offset-2"},[a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){e.preventDefault(),t.showHistoryByDate()}}},[t._v("Tampilkan Data")])])])]),t._v(" "),a("div",{staticClass:"row"},[a("download-excel",{staticClass:"btn btn-primary",attrs:{data:t.json_data,fields:t.json_fields,name:"filename.xls"}},[t._v("\n    Download Excel\n")])],1),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"table-responsive"},[a("div",{attrs:{id:"people"}},[a("v-client-table",{attrs:{data:t.tableData,columns:t.columns,options:t.options}})],1)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label col-sm-2",attrs:{for:"pwd"}},[t._v("Range Waktu:")]),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"demo",placeholder:"Pilih Waktu"}})])])}]}},1148:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container container-table"},[a("div",{staticClass:"row vertical-10p"},[a("div",{staticClass:"container"},[a("img",{staticClass:"center-block logo",attrs:{src:"/static/img/logo.png"}}),t._v(" "),a("div",{staticClass:"text-center col-sm-6 col-sm-offset-3"},[a("h1",[t._v("You are lost.")]),t._v(" "),a("h4",[t._v("This page doesn't exist.")]),t._v(" "),a("router-link",{attrs:{to:"/"}},[t._v("Take me home.")])],1)])])])},staticRenderFns:[]}},1149:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{staticClass:"main-sidebar"},[a("section",{staticClass:"sidebar"},[a("sidebar-menu")],1)])},staticRenderFns:[]}},1150:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},132:function(t,e){},133:function(t,e){},134:function(t,e){},135:function(t,e){},136:function(t,e){},137:function(t,e){},57:function(t,e,a){"use strict";function s(t){return i.href=t,i.hostname}function n(t){return t.length}function o(t){return new Date(t).toDateString()}function r(t,e){return 1===t?t+e:t+e+"s"}e.b=s,e.a=n,e.c=o,e.d=r;var i=document.createElement("a")},58:function(t,e,a){"use strict";var s=a(1137),n=a.n(s),o=a(1136),r=a.n(o),i=a(1140),l=a.n(i),c=a(1141),d=a.n(c),u=[{path:"/",component:n.a,children:[{path:"history",component:l.a,name:"History",meta:{description:"Halaman History"}},{path:"realtime",component:d.a,name:"Realtime",meta:{description:"Halaman Realtime"}}]},{path:"*",component:r.a}];e.a=u},59:function(t,e,a){"use strict";var s=a(4),n=a(54),o=a(94),r=a(92),i=a(93);s.default.use(n.a),e.a=new n.a.Store({state:o.a,actions:r.a,mutations:i.a})},62:function(t,e,a){var s=a(2)(a(97),a(1150),null,null);t.exports=s.exports},90:function(t,e,a){"use strict";e.a={serverURI:"",fixedLayout:!1,hideLogoOnMobile:!1}},91:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(4),n=a(63),o=a(56),r=a.n(o),i=a(60),l=a.n(i),c=a(65),d=(a.n(c),a(58)),u=a(59),m=a(57),v=a(62),f=a.n(v),p=a(64),h=(a.n(p),a(61)),g=a.n(h);r.a.defaults.baseURL="/v1",s.default.use(l.a,r.a),s.default.use(p.ClientTable),s.default.filter("count",m.a),s.default.filter("domain",m.b),s.default.filter("prettyDate",m.c),s.default.filter("pluralize",m.d),s.default.use(n.a);var _=new n.a({routes:d.a,mode:"history",scrollBehavior:function(t,e,a){return a||{x:0,y:0}}});if(s.default.use(g.a),_.beforeEach(function(t,e,a){t.auth&&"null"===t.router.app.$store.state.token?(window.console.log("Not authenticated"),a({path:"/login",query:{redirect:t.fullPath}})):"/"===t.path?a({path:"realtime",query:{redirect:t.fullPath}}):a()}),a.i(c.sync)(u.a,_),new s.default({el:"#root",router:_,store:u.a,render:function(t){return t(f.a)}}),window.localStorage){var C=window.localStorage.getItem("user")||"null",y=JSON.parse(C);y&&u.a.state.user!==y&&(u.a.commit("SET_USER",y),u.a.commit("SET_TOKEN",window.localStorage.getItem("token")))}},92:function(t,e,a){"use strict";e.a={}},93:function(t,e,a){"use strict";e.a={TOGGLE_LOADING:function(t){t.callingAPI=!t.callingAPI},TOGGLE_SEARCHING:function(t){t.searching=""===t.searching?"loading":""},SET_USER:function(t,e){t.user=e},SET_TOKEN:function(t,e){t.token=e}}},94:function(t,e,a){"use strict";e.a={callingAPI:!1,searching:"",serverURI:"http://10.110.1.136:8080",user:null,token:null,userInfo:{messages:[{1:"test",2:"test"}],notifications:[],tasks:[]}}},95:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(106),n=a.n(s);e.default={data:function(){return{animate:!0,animation:""}},props:{data:{type:Array,required:!0},fields:{type:Object,required:!0},name:{type:String,default:"data.xls"}},created:function(){},computed:{id_name:function(){return"export_"+(new Date).getTime()}},methods:{emitXmlHeader:function(){var t="<ss:Row>\n";for(var e in this.fields)t+="  <ss:Cell>\n",t+='    <ss:Data ss:Type="String">',t+=e+"</ss:Data>\n",t+="  </ss:Cell>\n";return'<?xml version="1.0"?>\n<ss:Workbook xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet">\n<ss:Worksheet ss:Name="Sheet1">\n<ss:Table>\n\n'+(t+="</ss:Row>\n")},emitXmlFooter:function(){return"\n</ss:Table>\n</ss:Worksheet>\n</ss:Workbook>\n"},jsonToSsXml:function(t){var e,a,s;console.log(t);var o="object"!=(void 0===t?"undefined":n()(t))?JSON.parse(t):t;for(s=this.emitXmlHeader(),e=0;e<o.length;e++){s+="<ss:Row>\n";for(a in o[e])s+="  <ss:Cell>\n",s+='    <ss:Data ss:Type="'+this.fields[a]+'">',s+=String(o[e][a]).replace(/[^a-zA-Z0-9\s\-ñíéáóú\#\,\.\;\:ÑÍÉÓÁÚ]/g,"")+"</ss:Data>\n",s+="  </ss:Cell>\n";s+="</ss:Row>\n"}return s+=this.emitXmlFooter()},generate_excel:function(t,e,a){var s=new Blob([this.jsonToSsXml(this.data)],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=document.getElementById(this.id_name);n.href=window.URL.createObjectURL(s),n.download=this.name}}}},96:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"NotFound"}},97:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"App",data:function(){return{section:"Head"}},methods:{logout:function(){this.$store.commit("SET_USER",null),this.$store.commit("SET_TOKEN",null),window.localStorage&&(window.localStorage.setItem("user",null),window.localStorage.setItem("token",null)),this.$router.push("/login")}}}},98:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(105),n=a.n(s),o=a(138),r=a.n(o),i=a(54),l=a(90),c=a(1138),d=a.n(c),u=a(1109);a.n(u);e.default={name:"Dash",components:{Sidebar:d.a},data:function(){return{year:(new Date).getFullYear(),classes:{fixed_layout:l.a.fixedLayout,hide_logo:l.a.hideLogoOnMobile},error:""}},computed:n()({},a.i(i.b)(["userInfo"]),{demo:function(){return{displayName:r.a.name.findName(),avatar:r.a.image.avatar(),email:r.a.internet.email(),randomCard:r.a.helpers.createCard()}}}),methods:{changeloading:function(){this.$store.commit("TOGGLE_SEARCHING")}}}},99:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(1139),n=a.n(s);e.default={name:"Sidebar",props:["displayName","pictureUrl"],components:{SidebarMenu:n.a}}}},[91]);
//# sourceMappingURL=app.d66407b73f31849deaf9.js.map